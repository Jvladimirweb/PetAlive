<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>PetAlive</title>
  <link rel="stylesheet" href="style.css" />
</head>

  <script>
  const N8N_WEBHOOK_URL = "https://abf0b5a4773a.ngrok-free.app/webhook/pet-create";

  const form = document.getElementById("petForm");
  if (!form) alert("ERRO: form com id='petForm' não encontrado");

  form?.addEventListener("submit", async (e) => {
    e.preventDefault();

    const fd = new FormData(form);

    try {
      const res = await fetch(N8N_WEBHOOK_URL, { method: "POST", body: fd });
      const text = await res.text();
      console.log("Status:", res.status);
      console.log("Resposta:", text);
      alert("Enviado! Veja Console (F12). Status: " + res.status);
    } catch (err) {
      console.error(err);
      alert("Falhou: veja o Console (F12). Provável CORS ou ngrok offline.");
    }
  });
</script>

<body>

  <div class="container">
    <h1><img src="Imagem/logon.jpg"></h1>
    <p>Cadastre seu pet para proteger e facilitar a identificação.</p>

    <form id="petForm" method="POST" enctype="multipart/form-data" action="SEU_WEBHOOK">

      <input type="text" name="petNome" placeholder="Nome do pet" required />
      <input type="text" name="tipo" placeholder="Cachorro, Gato, etc" required />
      <input type="text" name="raca" placeholder="Raça" />
      <input type="text" name="tutor" placeholder="Nome do tutor" required />
      <input type="tel" name="contato" placeholder="WhatsApp do tutor" required />
      <input type="file" name="fotoPet" accept="image/*" />

      <button type="submit">Cadastrar Pet</button>
    </form>

    <div id="status"></div>
  </div>

  <script src="script.js"></script>
</body>
</html>
